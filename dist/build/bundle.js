!function(e){var t={};function n(a){if(t[a])return t[a].exports;var r=t[a]={i:a,l:!1,exports:{}};return e[a].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=e,n.c=t,n.d=function(e,t,a){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(n.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(a,r,function(t){return e[t]}.bind(null,r));return a},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=18)}([function(e,t,n){"use strict";var a=Object.prototype.hasOwnProperty;function r(e,t){return Array.isArray(e)?function(e,t){for(var n,a="",o="",i=Array.isArray(t),s=0;s<e.length;s++)(n=r(e[s]))&&(i&&t[s]&&(n=l(n)),a=a+o+n,o=" ");return a}(e,t):e&&"object"==typeof e?function(e){var t="",n="";for(var r in e)r&&e[r]&&a.call(e,r)&&(t=t+n+r,n=" ");return t}(e):e||""}function o(e){if(!e)return"";if("object"==typeof e){var t="";for(var n in e)a.call(e,n)&&(t=t+n+":"+e[n]+";");return t}return e+""}function i(e,t,n,a){if(!1===t||null==t||!t&&("class"===e||"style"===e))return"";if(!0===t)return" "+(a?e:e+'="'+e+'"');var r=typeof t;return"object"!==r&&"function"!==r||"function"!=typeof t.toJSON||(t=t.toJSON()),"string"==typeof t||(t=JSON.stringify(t),n||-1===t.indexOf('"'))?(n&&(t=l(t))," "+e+'="'+t+'"'):" "+e+"='"+t.replace(/'/g,"&#39;")+"'"}t.merge=function e(t,n){if(1===arguments.length){for(var a=t[0],r=1;r<t.length;r++)a=e(a,t[r]);return a}for(var i in n)if("class"===i){var s=t[i]||[];t[i]=(Array.isArray(s)?s:[s]).concat(n[i]||[])}else if("style"===i){s=(s=o(t[i]))&&";"!==s[s.length-1]?s+";":s;var l=o(n[i]);l=l&&";"!==l[l.length-1]?l+";":l,t[i]=s+l}else t[i]=n[i];return t},t.classes=r,t.style=o,t.attr=i,t.attrs=function(e,t){var n="";for(var s in e)if(a.call(e,s)){var l=e[s];if("class"===s){l=r(l),n=i(s,l,!1,t)+n;continue}"style"===s&&(l=o(l)),n+=i(s,l,!1,t)}return n};var s=/["&<>]/;function l(e){var t=""+e,n=s.exec(t);if(!n)return e;var a,r,o,i="";for(a=n.index,r=0;a<t.length;a++){switch(t.charCodeAt(a)){case 34:o="&quot;";break;case 38:o="&amp;";break;case 60:o="&lt;";break;case 62:o="&gt;";break;default:continue}r!==a&&(i+=t.substring(r,a)),r=a+1,i+=o}return r!==a?i+t.substring(r,a):i}t.escape=l,t.rethrow=function e(t,a,r,o){if(!(t instanceof Error))throw t;if(!("undefined"==typeof window&&a||o))throw t.message+=" on line "+r,t;try{o=o||n(9).readFileSync(a,"utf8")}catch(n){e(t,null,r)}var i=3,s=o.split("\n"),l=Math.max(r-i,0),c=Math.min(s.length,r+i);i=s.slice(l,c).map((function(e,t){var n=t+l+1;return(n==r?"  > ":"    ")+n+"| "+e})).join("\n");t.path=a;t.message=(a||"Pug")+":"+r+"\n"+i+"\n\n"+t.message;throw t}},function(e,t,n){"use strict";var a,r={},o=function(){return void 0===a&&(a=Boolean(window&&document&&document.all&&!window.atob)),a},i=function(){var e={};return function(t){if(void 0===e[t]){var n=document.querySelector(t);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}e[t]=n}return e[t]}}();function s(e,t){for(var n=[],a={},r=0;r<e.length;r++){var o=e[r],i=t.base?o[0]+t.base:o[0],s={css:o[1],media:o[2],sourceMap:o[3]};a[i]?a[i].parts.push(s):n.push(a[i]={id:i,parts:[s]})}return n}function l(e,t){for(var n=0;n<e.length;n++){var a=e[n],o=r[a.id],i=0;if(o){for(o.refs++;i<o.parts.length;i++)o.parts[i](a.parts[i]);for(;i<a.parts.length;i++)o.parts.push(m(a.parts[i],t))}else{for(var s=[];i<a.parts.length;i++)s.push(m(a.parts[i],t));r[a.id]={id:a.id,refs:1,parts:s}}}}function c(e){var t=document.createElement("style");if(void 0===e.attributes.nonce){var a=n.nc;a&&(e.attributes.nonce=a)}if(Object.keys(e.attributes).forEach((function(n){t.setAttribute(n,e.attributes[n])})),"function"==typeof e.insert)e.insert(t);else{var r=i(e.insert||"head");if(!r)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");r.appendChild(t)}return t}var u,d=(u=[],function(e,t){return u[e]=t,u.filter(Boolean).join("\n")});function f(e,t,n,a){var r=n?"":a.css;if(e.styleSheet)e.styleSheet.cssText=d(t,r);else{var o=document.createTextNode(r),i=e.childNodes;i[t]&&e.removeChild(i[t]),i.length?e.insertBefore(o,i[t]):e.appendChild(o)}}function h(e,t,n){var a=n.css,r=n.media,o=n.sourceMap;if(r&&e.setAttribute("media",r),o&&btoa&&(a+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(o))))," */")),e.styleSheet)e.styleSheet.cssText=a;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(a))}}var p=null,v=0;function m(e,t){var n,a,r;if(t.singleton){var o=v++;n=p||(p=c(t)),a=f.bind(null,n,o,!1),r=f.bind(null,n,o,!0)}else n=c(t),a=h.bind(null,n,t),r=function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(n)};return a(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;a(e=t)}else r()}}e.exports=function(e,t){(t=t||{}).attributes="object"==typeof t.attributes?t.attributes:{},t.singleton||"boolean"==typeof t.singleton||(t.singleton=o());var n=s(e,t);return l(n,t),function(e){for(var a=[],o=0;o<n.length;o++){var i=n[o],c=r[i.id];c&&(c.refs--,a.push(c))}e&&l(s(e,t),t);for(var u=0;u<a.length;u++){var d=a[u];if(0===d.refs){for(var f=0;f<d.parts.length;f++)d.parts[f]();delete r[d.id]}}}}},function(e,t,n){var a=n(3);"string"==typeof a&&(a=[[e.i,a,""]]);var r={insert:"head",singleton:!1};n(1)(a,r);a.locals&&(e.exports=a.locals)},function(e,t,n){},function(e,t,n){var a=n(5);"string"==typeof a&&(a=[[e.i,a,""]]);var r={insert:"head",singleton:!1};n(1)(a,r);a.locals&&(e.exports=a.locals)},function(e,t,n){},function(e,t,n){e.exports=n.p+"build/images/profilewolf.svg"},function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAABkCAIAAAD/gAIDAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAAEnQAABJ0Ad5mH3gAAAPASURBVHhe7dhhgpsgEEDhPVDOkqPkIrlI7tGDpSM8ERUVFIPIfL9aF5F5tdlu/76l/YvGDeUUiMXoh7HdD/0uFiOegAec7/RYDPQTPPI0Z8Xi+IVwiNzyx+K8F8CB8skci2NeBsfKJFssTndJHPGwDLE40eVx3AOOxuIgleDQex2KxRGqwtF32R+Lh1eIAdLticUzK8cwKZJj8ahbYKRoabF4yI0wWJyEWGx/O4wXITYWG98UQ26JisWWt8aoqzQWGHXVdiw2awADL9uIxTbNYOwFa7HYoDEMH7IYi1ubRIIZjRVAgplwLG5qGCHGNFYYIcYCsVjePHJ4prFYqAyi9DTWGqL0RrFYojykMTTWBtIYGmsDaYwhFl9UMwTSWDEIpLFiEMjF4rJaYCtprCi2ksaKYit1sbhwwOf1+Os831wIeD9Z8uFCZUrEerw0lsaKprEStBKLXx5zJNbn/XzYuzuPx9J3gM/7NVn4mq/kIOYh3cZmabY/ocKxhnlkepdiHpT9RbfM/eZP0rLEcrHewx2dtYPFKxqrv+S9TB/zoo1i9ZuP3zlZZ66On+lVFdLsI96vwDu4R8lY7jVYnYT7AlsH7vdi5XmZRi4Qa32s5Vahr7lYJ6Qq/ZnFNbkqf8WC75eb3nxWTdivJPffrfAH/BDDmH+HczlXBN6symOtLLEf6uarht+zjxU5fQ2xFl4bX0xP9w+JYZ/E6auI1R9ysVbsGzKrnvZqVRHLnTKcy70ym0Owj7dLX2vxz8FXRywvl8zVfU6j+yGFy5MRuhvsSi4Mfw9HYYaNu39kclEus3dw7dVjCfcCBcx/5vPqjs3eoeHDLKDWWJ3Jz7syzPjt8dl3w1sc/unYsN8yR2tl8XT1ybGy/BdNC7L9f1YLNFYCjZVAYyUglvbaZCtprCi2ksaKYisRS3BZzRBIY8UgkMaKQSA/luCLykMaQ2NtII2hsTaQxhjFEixRBlF6GmsNUXrTWIKFzSOHJxBLsLxttPBorDBCjIVjCW5qEglmNFYACWYWYwlubQzDh6zFEmzQDMZesBFLsE0DGHjZdizBZrfGqKs0Fhh1VVQswZY3xZBbYmMJNr4dxouQEEuw/Y0wWJy0WIKH3AIjRUuOJXhU5RgmxZ5YFs+sEAOk2x9L8PCqcPRdDsUSHKESHHqvo7EEB7k8jntAhlgWJ7okjnhYtlgWp7sSTpZD5liCM14AB8onfyyL8xbCIXI7K5bD8X+CR57m9FgOA52AB5zvd7EcRjyM7X6oQKwJRo/ADaV8v/8BPpCxdao+DcoAAAAASUVORK5CYII="},function(e,t,n){n(0);e.exports=function(e){var t="";return t+='<section style="text-align-last: center"><div class="tabs"><input id="tab_1" type="radio" name="inset" value="" checked=""><label for="tab_1">Профиль и доступ</label><input id="tab_2" type="radio" name="inset" value=""><label for="tab_2">Действия</label><input id="tab_3" type="radio" name="inset" value=""><label for="tab_3">Карточки</label><input id="tab_4" type="radio" name="inset" value=""><label for="tab_4">Настройки</label><div class="tabcontent word" id="Profile"><img style="margin-top: 50px" src="build/images/profilewolf.svg" alt=""><h1>Управление персональными данными</h1><p>Вы можете менять настройки доступа к информации и улучшениям. Чтобы<wbr>            узнать больше, читайте следующие документы:<a href="/">Условия использования</a> и<a href="/">Политика конфиденциальности</a>.</p><h2 style="margin-top: 60px; text-align-last: left">О нас</h2><hr><div class="container"><div class="row"><div class="col-2-3"><h3>Полное имя</h3><input class="inputLine" type="text" value="Username" id="username"><h3>Инициалы</h3><input class="inputLine" type="text" value="U"><h3>Пароль</h3><input class="inputLine" type="password" value="" id="password"><h3>О себе</h3><textarea class="aboutYou" placeholder="Something"></textarea><form><button class="saveButton">Сохранить</button></form></div><div class="col-1-3"><a style="text-align-last: center">Avatar</a><p><img src="build/images/userAva.png" alt=""></p></div></div></div><h2 style="margin-top: 60px; text-align-last: left;">Контакт</h2><hr><h3>Электронная почта</h3><textarea readonly="" style="text-align-last: left;">user@mail.com</textarea><button onclick="mailChange(event)">Сменить или добавить почту</button></div><div class="tabcontent word" id="Action" style="text-align-last: left"><h2 style="margin-top: 40px">Команды</h2><hr><h2>Действия</h2><hr><button>Загрузить больше действий</button></div><div class="tabcontent sorts" id="Cards"><ul style="line-height: 50px"><li>Сортировка по доске</li><li>Показ карточек со всех досок</li><li>Показ активных за последний месяц</li></ul></div><div class="tabcontent setting" id="Settings"><h3>Подробности аккаунта</h3><hr><a href="/">Сменить язык...</a><h3>Уведомления</h3><hr><a href="/">Изменить частоту оповещений по электронной почте</a><h3>Макетинговые сообщения</h3><hr><a href="/">Отказаться получать макетинговые сообщения</a><h3>Доступность</h3><hr><a href="/">Включить режим для дальтоников</a><h3>Доступность</h3><hr><a href="/">Включить режим для дальтоников</a><h3>Приложения</h3><hr><h3>Сеансы</h3><hr><a href="/">Настроить двухэтапную аутентификацию</a><h3>Экспорт персональных данных</h3><hr><p style="color: gray">Нажав кнопку, вы создадите JSON-файл с вашей персональной информацией, которая хранится в\nTrello: учетные данные, сведения о платежах, данные и настройки профиля, а также настройки досок и\nкоманд.</p><a style="background-color: lightgray; max-width: 300px" href="/">Скачать персональные данные</a></div></div></section>'}},function(e,t){},function(e,t,n){e.exports=n.p+"build/images/vidymgtu002.jpg"},function(e,t,n){n(0);e.exports=function(e){var t="";return t+='<div id="app"><h1>Канбан-доска здесь</h1></div><div id="view"><button>Создать новую карточку</button></div><div id="logout"><button>Разлогиниться</button></div>'}},function(e,t,n){n(0);e.exports=function(e){var t="";return t+='<div class="cont"><div class="form sign-in"><h2>С возвращением</h2><form id="in"><label><span>Email</span><input name="email" type="email" value="aaa@mail.ru"></label><label><span>Password</span><input name="password" type="password" value="qwerty"></label><label><p class="forgot-pass">Забыли пароль? Ничем не можем вам помочь</p><div class="errorArea"></div></label><button type="submit" form="in">Войти</button></form><button class="vk-btn">Войти через<span>ВКонтакте</span></button></div><div class="sub-cont"><div class="bmstu"><div class="img__text m--up"><h2>Первый раз?</h2><p>Зарегистрируйтесь и откройте для себя\nмножество новых возможностей!</p></div><div class="img__text m--in"><h2>Один из нас?</h2><p>Если у вас уже есть аккаунт,\nпросто войдите в систему.\nМы скучали по вам!</p></div><div class="img__btn"><span class="m--up">Регистрация</span><span class="m--in">Вход</span></div></div><div class="form sign-up"><h2>Время почувствовать себя как дома,</h2><form id="up"><label><span>Ваше имя</span><input name="name" type="text"></label><label><span>Email</span><input name="email" type="email"></label><label><span>Password</span><input name="password" type="password"></label></form><div class="errorArea"></div><button type="submit" form="up">Зарегистрироваться</button><button class="vk-btn">связать с аккаунтом<span>ВКонтакте</span></button></div></div></div>'}},function(e,t,n){e.exports=n.p+"build/images/hero-a.svg"},function(e,t,n){n(0);e.exports=function(e){var t="";return t+='<div><div class="row"><div class="column" id="col1"><img src="build/images/hero-a.svg"></div><div class="column" id="col2"><div><h1>Мы создали</h1><h1>Чтобы что</h1><h1>-то было</h1></div><button onclick="location.href=\'#/login\';">Начать пользоваться</button></div></div></div>'}},function(e,t,n){var a=n(16);"string"==typeof a&&(a=[[e.i,a,""]]);var r={insert:"head",singleton:!1};n(1)(a,r);a.locals&&(e.exports=a.locals)},function(e,t,n){},function(e,t,n){n(0);e.exports=function(e){var t="";return t+='<head><div id="header"><ul><li><a href="#/" data-section="home">Домой</a></li><li><a href="#/board">Доска</a></li><div class="rightside"><li><a href="#/login">Войти</a></li><li><a href="#/profile">Профиль</a></li><li><a href="#/info">О нас</a></li></div></ul></div></head>'}},function(e,t,n){"use strict";n.r(t);n(2),n(4),n(6),n(7);function a(e="/",t=null){return console.log(t),fetch("http://localhost:8080"+e,{method:"POST",mode:"cors",cache:"no-cache",credentials:"include",headers:{"Content-Type":"application/json"},redirect:"follow",referrer:"no-referrer",body:JSON.stringify(t)}).then(e=>e.json()).then(e=>(console.log("Успех:",JSON.stringify(e)),e)).catch(e=>alert(e.message))}const r=/^[a-zA-Z][a-zA-Z0-9_.,-]{4,14}$/,o=/^([a-z0-9_\\-]+\.)*[a-z0-9_\\-]+@([a-z0-9][a-z0-9\\-]*[a-z0-9]\.)+[a-z]{2,4}$/i,i=6;function s(e=""){return e.match(o)}function l(e){return e.length>=i}const c=n(8);n(10);const u=n(11);function d(){const e=u();document.getElementById("application").innerHTML=e,document.getElementById("logout").addEventListener("click",()=>{a("/logout",{}).then(()=>{location.href="#/"})})}const f=n(12);var h={parseRequestUrl:()=>{const e=location.hash.slice(1).toLowerCase()||"/";console.log(e);const t=e.split("/"),n={resource:null,id:null,verb:null};return n.resource=t[1],n.id=t[2],n.verb=t[3],n}};n(13);const p={"/":function(){const e=n(14)();document.getElementById("application").innerHTML=e},"/profile":function(){const e={};(function(e="/"){return fetch("http://localhost:8080"+e,{method:"GET",mode:"cors",cache:"no-cache",credentials:"include",headers:{"Content-Type":"application/json"},redirect:"follow",referrer:"no-referrer"}).then(e=>e.json()).then(e=>(console.log("Ответ такой:",JSON.stringify(e)),e)).catch(e=>null)})("/user").then(t=>{if(t){e.login=t.login,e.password=t.password,e.id=t.id,application.innerHTML=c(),document.getElementById("username").value=e.login,document.getElementById("password").value=e.password,document.getElementsByClassName("saveButton")[0].addEventListener("click",()=>{const e=document.getElementById("username"),t=document.getElementById("password"),n=s(e.value),a=l(t.value);n&&a?function(e="/",t=null){return console.log(t),fetch("http://localhost:8080"+e,{method:"PUT",mode:"cors",cache:"no-cache",credentials:"include",headers:{"Content-Type":"application/json"},redirect:"follow",referrer:"no-referrer",body:JSON.stringify(t)}).then(e=>e.json()).then(e=>(console.log("Ответ такой:",JSON.stringify(e)),e)).catch(e=>alert(e.message))}("/user",{login:e.value,password:t.value}).then(e=>{console.log(e),200!==e.status?(console.log(e.message),location.href="/"):location.href="#"}).catch(e=>{alert(`ошибка:${e}`)}):(console.log("как-то сообщить юзеру что что-то не так"),n||console.log("невалидный email"),a||console.log("невалидный пароль"))})}else location.href="#/"})},"/login":function(){document.getElementById("application").innerHTML=f();const e=document.getElementsByTagName("form")[0];e.addEventListener("submit",t=>{console.log("this code executes"),t.preventDefault();const n=e.elements.email.value,r=e.elements.password.value,o=document.getElementsByClassName("errorArea").item(0);s(n)&&l(r)?a("/login",{login:n,password:r}).then(e=>{200!==e.status?o.innerText=e.message:d()}).catch(()=>{console.log("login unsuccesful")}):o.innerText="Некорректная почта или пароль!"});const t=document.getElementsByTagName("form")[1];console.log(t),t.addEventListener("submit",e=>{console.log("this code executes"),e.preventDefault();const n=t.elements.email.value,o=t.elements.password.value,i=t.elements.name.value,c=document.getElementsByClassName("errorArea").item(1);s(n)&&l(o)&&function(e=""){return e.match(r)}(i)?a("/registration",{login:n,password:o}).then(e=>{d()}).catch(()=>{c.innerText="такой пользователь мол есть уже"}):c.innerText="Некорректный ввод!"}),document.querySelector(".img__btn").addEventListener("click",(function(){document.querySelector(".cont").classList.toggle("s--signup")}))},"/board":d},v=async()=>{const e=h.parseRequestUrl(),t=e.resource?"/"+e.resource:"/",n=p[t];console.log(t),n()},m=async()=>{console.log("hash changed"),await v()};n(15);document.addEventListener("DOMContentLoaded",(function(){!function(){const e=n(17);document.getElementById("header").innerHTML=e()}(),window.addEventListener("hashchange",m),window.addEventListener("load",v)}))}]);